(()=>{"use strict";(()=>{class s{constructor(){this.assignments=[],this.initializeEventListeners(),this.loadAssignments()}initializeEventListeners(){document.getElementById("openSettings")?.addEventListener("click",(()=>{chrome.runtime.openOptionsPage&&chrome.runtime.openOptionsPage()}))}async loadAssignments(){try{const s=await chrome.tabs.query({active:!0,currentWindow:!0});if(!s[0]?.id)return void this.showNoAssignments("No active tab found");chrome.tabs.sendMessage(s[0].id,{action:"getGrades"},(s=>{chrome.runtime.lastError?this.showNoAssignments("Error communicating with page"):s&&s.success?s.grades&&s.grades.assignments?(this.assignments=s.grades.assignments.map((e=>({title:e.name,course:s.grades.courseName,dueDate:new Date,priorityScore:0,completed:!1,type:"assignment",points:e.points,maxPoints:e.pointsPossible}))),this.renderAssignments()):this.showNoAssignments("No assignments found"):this.showNoAssignments("No grades found")}))}catch(s){this.showNoAssignments("Failed to load assignments")}}renderAssignments(){const s=document.getElementById("assignmentList");s&&(s.innerHTML=this.assignments.map((s=>this.createAssignmentElement(s))).join(""))}createAssignmentElement(s){return`\n            <div class="assignment-item ${this.getPriorityClass(s.priorityScore)}">\n                <div class="assignment-title">${s.title}</div>\n                <div class="assignment-course">${s.course}</div>\n                <div class="assignment-due-date">Due: ${this.formatDate(s.dueDate)}</div>\n            </div>\n        `}getPriorityClass(s){return s>.7?"high-priority":s>.4?"medium-priority":"low-priority"}formatDate(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}showNoAssignments(s){const e=document.getElementById("assignmentList");e&&(e.innerHTML=`\n                <div class="no-assignments">\n                    ${s}\n                </div>\n            `)}}window.addEventListener("DOMContentLoaded",(()=>{new s}))})()})();
//# sourceMappingURL=popup.js.map