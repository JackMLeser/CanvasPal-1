(()=>{"use strict";console.log("Background script loaded");let e=[];chrome.runtime.onMessage.addListener(((s,a,r)=>{switch(console.log("Background received message:",s),s.type){case"GET_ASSIGNMENTS":r({assignments:e});break;case"ASSIGNMENTS_UPDATE":e=s.data,chrome.tabs.query({},(s=>{s.forEach((s=>{s.id&&chrome.tabs.sendMessage(s.id,{type:"ASSIGNMENTS_UPDATE",data:e}).catch((e=>{console.log("Error sending message to tab:",e)}))}))}));break;case"CLEAR_ASSIGNMENTS":e=[],r({success:!0})}return!0})),chrome.runtime.onInstalled.addListener((()=>{console.log("Extension installed/updated"),chrome.storage.local.set({settings:{displayOptions:{showOutsideCanvas:!0}}})})),chrome.alarms.create("refreshAssignments",{periodInMinutes:5}),chrome.alarms.onAlarm.addListener((e=>{"refreshAssignments"===e.name&&chrome.tabs.query({},(e=>{e.forEach((e=>{e.id&&chrome.tabs.sendMessage(e.id,{type:"REFRESH_ASSIGNMENTS"}).catch((e=>{console.log("Error sending refresh message to tab:",e)}))}))}))}))})();
//# sourceMappingURL=index.js.map